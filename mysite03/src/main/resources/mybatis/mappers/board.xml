<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="board">
	<insert id="insert" parameterType="boardvo">
		<![CDATA[
			 insert into user values(null, #{name }, #{email }, #{password }, #{gender }, now(), 'USER')
		]]>
	</insert>
	
	<select id="findByEmailAndPassword" parameterType="boardvo">
		<![CDATA[
			select no, name, role from user where email=#{email } and password=#{password }
		]]>
	</select>
	
	<select id="findByNo" parameterType="long" resultType="boardvo">
		<![CDATA[
			select no, name, email, gender from user where no=#{no }
		]]>
	</select>
	
	<select id="delete" parameterType="boardvo">
		<![CDATA[
			delete from board where no=#{no} and title=#{title}
		]]>
	</select>
	
	<update id="update" parameterType="boardvo">
		<![CDATA[
			update board set title=#{title }, contents=#{contents } where no=#{no}
		]]>
	</update>
</mapper>